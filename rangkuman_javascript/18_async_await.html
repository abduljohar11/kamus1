<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial JavaScript - Async Await Lengkap</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tokyo-night-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap');

        body { background-color: #cbd5e1; font-family: 'Inter', sans-serif; color: #1e293b; padding: 2rem; }
        .card { background: #e2e8f0; padding: 3rem; border-radius: 2rem; border: 1px solid #94a3b8; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        
        pre { 
            background: #1a1b26 !important; 
            padding: 1.5rem !important; 
            border-radius: 1rem !important; 
            border: 1px solid #334155; 
            overflow-x: auto; 
            white-space: pre !important; 
            position: relative;
            margin-bottom: 1.5rem;
        }
        code { font-family: 'Fira Code', monospace; font-size: 0.95rem; line-height: 1.6; color: #e0e0e0; }
        
        .copy-btn {
            position: absolute; right: 10px; top: 10px; background: #3b82f6; color: white; 
            font-size: 10px; font-weight: bold; padding: 4px 8px; border-radius: 4px; z-index: 30;
            cursor: pointer;
        }
        .copy-btn:hover { background: #2563eb; }

        .section-title { font-size: 1.8rem; font-weight: 900; margin-top: 3rem; margin-bottom: 1rem; border-left: 8px solid #2563eb; padding-left: 1rem; text-transform: uppercase; }
        p { margin-bottom: 1.5rem; line-height: 1.8; }
        ul { list-style: disc; margin-left: 1.5rem; margin-bottom: 1.5rem; }
        .inline-code { background: #94a3b8; color: #1e293b; padding: 0.2rem 0.4rem; border-radius: 0.3rem; font-family: 'Fira Code', monospace; font-size: 0.85rem; }
        strong { color: #0f172a; }
        .analogy { background: #eff6ff; border: 2px dashed #3b82f6; padding: 1.5rem; border-radius: 1rem; margin-bottom: 1.5rem; }
    </style>
    <script>
        function copyCode(btn) {
            const code = btn.parentElement.querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                btn.innerText = 'COPIED!'; btn.style.background = '#10b981';
                setTimeout(() => { btn.innerText = 'COPY'; btn.style.background = '#3b82f6'; }, 2000);
            });
        }
    </script>
</head>
<body>
    <div class="max-w-4xl mx-auto">
        <a href="index.html" class="mb-4 inline-block font-bold text-blue-800 uppercase text-xs hover:underline">&larr; Kembali ke Daftar Isi</a>
        <h1 class="text-4xl md:text-5xl font-black mb-8 uppercase tracking-tighter text-slate-900 leading-none">Async Await</h1>
        
        <div class="card">
            <h2 class="section-title">Apa Itu Async Await?</h2>
            <p><strong>Async Await</strong> adalah fitur JavaScript modern (ES8) yang merupakan "pembungkus" elegan untuk Promise. Fitur ini memungkinkan kita menulis kode asinkronus dengan gaya penulisan kode sinkronus (searah), sehingga jauh lebih mudah dibaca dan dirawat.</p>

            <h2 class="section-title">ðŸ’¡ Analogi</h2>
            <div class="analogy">
                <p class="mb-0 italic">Bayangkan Anda menggunakan <strong>Mesin Kopi Otomatis</strong>. Anda menekan tombol (Async). Alih-alih Anda berdiri mematung di depan mesin menunggu kopi menetes, Anda cukup bilang ke sistem: "<strong>AWAIT</strong> (Tunggu) sampai kopi ini jadi, baru setelah itu bawakan ke meja saya". Sambil menunggu, program lain (pelayan lain) tetap bisa bekerja membersihkan meja.</p>
            </div>

            

            <h2 class="section-title">Cara Menggunakan</h2>
            <ul>
                <li><strong>async</strong>: Diletakkan sebelum fungsi untuk menandakan bahwa fungsi tersebut akan menjalankan proses asinkronus.</li>
                <li><strong>await</strong>: Digunakan di dalam fungsi async untuk menghentikan sementara eksekusi kode sampai Promise selesai.</li>
            </ul>

            <h3 class="font-bold mb-2">Contoh Sederhana</h3>
            <div class="relative">
                <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                <pre><code class="language-javascript">async function sapaUser() {
  return "Halo, Selamat Datang!"; 
}

// Fungsi async otomatis mengembalikan Promise
sapaUser().then(res => console.log(res));</code></pre>
            </div>

            <h2 class="section-title">Menunggu Promise Selesai</h2>
            <p>Dibandingkan menggunakan <span class="inline-code">.then()</span> yang berantai (callback hell), <span class="inline-code">await</span> membuat alur kode menjadi lurus ke bawah.</p>

            <div class="relative">
                <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                <pre><code class="language-javascript">const ambilData = () => new Promise(res => setTimeout(() => res("Data Berhasil Diambil!"), 2000));

async function jalankanProses() {
  console.log("Memulai...");
  
  const hasil = await ambilData(); // Menunggu 2 detik di sini
  console.log(hasil);
  
  console.log("Selesai!");
}

jalankanProses();</code></pre>
            </div>

            <h2 class="section-title">Error Handling (Try...Catch)</h2>
            <p>Untuk menangani kegagalan (reject) pada Promise saat menggunakan async/await, kita wajib menggunakan blok <span class="inline-code">try...catch</span>.</p>

            <div class="relative">
                <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                <pre><code class="language-javascript">async function ambilApi() {
  try {
    const response = await fetch("https://jsonplaceholder.typicode.com/posts/1");
    const data = await response.json();
    console.log(data.title);
  } catch (error) {
    console.error("Waduh, koneksi gagal:", error);
  }
}

ambilApi();</code></pre>
            </div>

            <h2 class="section-title">Promise.all() (Optimasi Paralel)</h2>
            <p>Jika Anda punya beberapa proses yang tidak saling bergantung, jangan gunakan <span class="inline-code">await</span> satu per satu (karena akan mengantre). Gunakan <span class="inline-code">Promise.all()</span> agar berjalan bersamaan.</p>

            <div class="relative">
                <button onclick="copyCode(this)" class="copy-btn">COPY</button>
                <pre><code class="language-javascript">async function paralelFetch() {
  const [user, posts] = await Promise.all([
    fetch("https://api.site.com/user"),
    fetch("https://api.site.com/posts")
  ]);
  // Kedua request di atas jalan bersamaan!
}</code></pre>
            </div>

            <h2 class="section-title">Kesimpulan</h2>
            <p><strong>Async Await</strong> adalah standar industri saat ini untuk menangani data dari API atau database. Dengan menguasai ini, Anda telah menyelesaikan pondasi terpenting dari JavaScript modern.</p>
            
            <p class="text-center font-bold mt-8 p-4 bg-green-100 text-green-900 rounded-xl border border-green-200">
                ðŸŽ‰ Selamat! Kamu telah menyelesaikan seluruh rangkaian materi Dasar JavaScript!
            </p>
        </div>
    </div>
</body>
</html>